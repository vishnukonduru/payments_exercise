c
loan.outstanding_balance.zero?
c
loan.outstanding_balance.zero?
loan.outstanding_balance = 0
loan.outstanding_balance
loan.outstanding_balance.zero?
c
Loan.find(params[:loan_id].to_i)
@loan
c
@loan = Loan.find(params[:loan_id].to_i)
continue
@loan.outstanding_payment == 0
@loan.outstanding_payment
continue
@loan
@loan.outstanding_paymnent == 0
continue
@loan.outstanding_payment < params[:payments][:amount].to_i
@loan.outstanding_payment
continue
@loan.outstanding_payment < params[:payments][:amount].to_i
@loan.outstanding_payment
continue
due_balance
continue
due_balance
continue
@loan.outstanding_payment < params[:payments][:amount].to_i
continue
due_balance = loan.outstanding_payment - amount
amount
loan.outstanding_payment
continue
params[:payments][:amount] = params[:payments][:amount].to_d
params[:payments][:amount]
params
@loan.outstanding_payment < params[:payments][:amount]
continue
 @loan.funded_amount < params[:payments][:amount].to_d
 @loan.funded_amount < params[:payments][:amount].to_i
@loan
 @loan.funded_amount < params[:payments][:amount]
params[:payments][:amount].class
params[:payments][:amount]
payments[:amount]
params[:amount]
params[]:amount
continue
loan
loan.update(outstanding_payment: due_balance)
loan.funded_amount
due_balance = loan.funded_amount - amount
amount
@payment
payment
Payment
loan
@loan
params
continue
@loan
@payment
@payment.amount = 50.0
@payment = @loan.payments.new(payment_params)
continue
@payment = @loan.payments.new(payment_params)
continue
@loan.payments.new(payment_params)
continue
@loan.payments.new(payment_params)
continue
@loan
@loan = Loan.find(params[:loan_id].to_i)
continue
@loan
params
continue
params
continue
params
continue
params[:loan_id]
Loan.find(1)
Loan.find()
@loan
@payment = @loan.payments.new(amount: params[:amount], date: DateTime.now)
continue
params[:amount]
params[:amount}
amount
params
continue
params[:amount]
params
continue
params
continue
